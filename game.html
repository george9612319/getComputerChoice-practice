<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Holy Grail</title>
  </head>
  <body>
    <button name="scissor">scissor</button>
    <button name="paper">paper</button>
    <button name="stone">stone</button>
    <div id="result"></div>
    <script>
        let youscore = 0;
        let computerscore = 0;

       const buttons = document.querySelectorAll('button');// select button element
       buttons.forEach( button => button.addEventListener('click',playround));// after click botton excute playround function for each button
       
       //if player win, youscore +1. if computer win, computerscore+1
        function playround (e) {
            const playerSelection = e.target.name; // playerSelection = clicked button
            const computerSelection = getComputerChoice();
            if (playerSelection === "paper" && computerSelection === "stone") {
                youscore += 1;
            }

            else if (playerSelection === "paper" && computerSelection === "scissor") {
                computerscore += 1;
            }

            else if (playerSelection === "stone" && computerSelection === "scissor") {
                youscore += 1;
            }

            else if (playerSelection === "stone" && computerSelection === "paper") {
                computerscore += 1;
            }

            else if (playerSelection === "scissor" && computerSelection === "paper") {
                youscore += 1;
            }

            else if (playerSelection === "scissor" && computerSelection === "stone") {
                computerscore += 1;
            }
            console.log(`Player: ${playerSelection}, Computer: ${computerSelection}`);// show score in console
            console.log('Your Score: ' + youscore + ', Computer Score: ' + computerscore );

            const resultsDiv = document.getElementById('result');// show score in webpage
            resultsDiv.innerHTML = 'Your Score: ' + youscore + ', Computer Score: ' + computerscore;

            if ( youscore === 5 || computerscore === 5) {
            console.log ('youscore : ' + youscore + ' computerscore : ' + computerscore);
                if (youscore === 5) {
                        const youwin = 'You win!!!, youscore :' + youscore + ' computerscore : ' + computerscore;
                        resultsDiv.innerHTML = youwin; // show result in webpage
                    }
                if (computerscore === 5) {
                        const computerwin = 'Computer win!!!, youscore :' + youscore + ' computerscore : ' + computerscore;
                        resultsDiv.innerHTML = computerwin;
                    }
            resetGame();
            }
        }

        // random generate paper, scissor, stone
        function getComputerChoice () {
            var option = ["paper","scissor","stone"]
            var randomnumber = Math.floor(Math.random()*option.length)
            var computerSelection = option[randomnumber]
            return computerSelection
        }

        //reset game when one of the score is 5
        function resetGame() {
            youscore = 0;
            computerscore = 0;
        }


    </script>
  </body>
</html>